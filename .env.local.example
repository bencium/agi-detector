# Copy this file to `.env.local` and fill in values.
# Never commit `.env.local`.

# PostgreSQL connection for Prisma
# Optional for basic local dev: if omitted, the app runs in a no-DB mode and API routes return empty datasets
DATABASE_URL=postgresql://user:password@host/database?sslmode=require&pgbouncer=true
# For Prisma migrations, set a direct (non-pooled) connection as well
DIRECT_URL=postgresql://user:password@host/database?sslmode=require

# Required: OpenAI API key (either OPENAI_API_KEY or API_KEY)
OPENAI_API_KEY=sk-your-openai-key
# API_KEY=sk-your-openai-key

# Required for local API auth (must match NEXT_PUBLIC_LOCAL_API_KEY)
LOCAL_API_KEY=your-local-api-key

# Client-side API key for local UI (must match LOCAL_API_KEY)
NEXT_PUBLIC_LOCAL_API_KEY=your-local-api-key

# Optional: Override default analysis model (chat completions)
# Default: OPENAI_MODEL=gpt-5-mini
# OPENAI_MODEL=gpt-5-mini

# Validation UI thresholds (client-side)
# NEXT_PUBLIC_VALIDATION_MIN_SEVERITY=medium  # none|low|medium|high|critical (default: medium)
# NEXT_PUBLIC_VALIDATION_ALWAYS=false         # set to true to show the button for all

# Optional: Firecrawl key for JS-rendered pages and tougher sites
FIRECRAWL_API_KEY=fc-your-firecrawl-key

# Optional: HTTP proxy for crawling (format http://host:port)
# PROXY_URL=http://localhost:8080

# Optional: Brave Search API (site-restricted fallback search)
# Get a token from https://api.search.brave.com
# When set, crawler uses Brave for sources lacking RSS or blocked by fetch
BRAVE_API_KEY=your-brave-key

# Notes:
# - Copy to `.env.local` before running `npm run dev` or `npm run build`.
# - Prisma reads `DATABASE_URL`; run `npx prisma generate` after setting it.

OPENAI_MODEL=gpt-4o-mini
OPENAI_TIMEOUT_MS=12000
ANALYZE_BATCH_SIZE=2
BATCH_TIMEOUT_MS=18000
ANALYZE_JOB_LIMIT=50

# Multi-signal scoring weights
# MODEL_SCORE_WEIGHT=0.85
# HEURISTIC_SCORE_WEIGHT=0.15
# HEURISTIC_MAX=0.4

# Evals threshold
# EVAL_POSITIVE_THRESHOLD=0.3
